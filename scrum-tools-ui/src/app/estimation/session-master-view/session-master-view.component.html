<ng-container *ngIf="loadingState.loaded && session">
  <div class="basic-info">
    <div>
      <h2>{{session.name}}</h2>
      <pre>{{session.description}}</pre>
      <div class="join-link">
        {{joinLink}}
        <button class="btn small secondary" (click)="copyMemberUrl()">Copy</button>
      </div>
    </div>
    <img class="qrCode" [src]="qrCode" alt="QR Code to join">
  </div>

  <div *ngIf="currentTopic">
    <app-topic-result [topic]="currentTopic" [showOptions]="true"></app-topic-result>

    <button *ngIf="session.activeTopic" type="button" class="btn" (click)="endVote()">End vote</button>
  </div>

  <div *ngIf="!session.activeTopic">
    <h3>Create new topic</h3>
    <app-create-topic-form [session]="session"></app-create-topic-form>
  </div>

  <app-members [session]="session"
               (remove)="removeMember($event)"></app-members>

  <br>
  <p class="small">
    Sessions expire 90 days after inactivity. Within this time frame you should save the master link in your bookmarks, to gain access to this session later.
  </p>
  <button type="button" class="btn secondary small" (click)="copyMasterUrl()">Copy master link</button>


</ng-container>

<app-loading-spinner *ngIf="loadingState.loading"></app-loading-spinner>
<app-error-message *ngIf="loadingState.error" [error]="loadingState.error"></app-error-message>
